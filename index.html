<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¢çš„æ™ºèƒ½å·¥å…·é›†åˆ - 27æ¬¾å¼€æºAIå·¥å…·å±•ç¤º</title>
    <meta name="description" content="å±•ç¤º27æ¬¾ç²¾å¿ƒæ‰“é€ çš„å¼€æºAIå·¥å…·ï¼Œæ¶µç›–åŠ¨ç”»ç”Ÿæˆã€æ•°æ®åˆ†æã€æ™ºèƒ½å®¢æœã€ç®€å†åŒ¹é…ç­‰å¤šä¸ªé¢†åŸŸï¼ŒåŸºäºæœ€æ–°AIæŠ€æœ¯æ¡†æ¶ï¼Œè®©æŠ€æœ¯èµ‹èƒ½åˆ›æ„ä¸æ•ˆç‡">
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="/" class="nav-logo">æ¢çš„æ™ºèƒ½å·¥å…·é›†åˆ</a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#home" class="nav-link">é¦–é¡µ</a>
                </li>
                <li class="nav-item">
                    <a href="#products" class="nav-link">äº§å“</a>
                </li>
                <li class="nav-item">
                    <a href="docs/" class="nav-link">ä½¿ç”¨æŒ‡å—</a>
                </li>
                <li class="nav-item">
                    <a href="#about" class="nav-link">å…³äº</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">è”ç³»</a>
                </li>
            </ul>
            <div class="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <main>
        <section id="home" class="hero">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">æ¢çš„æ™ºèƒ½å·¥å…·é›†åˆ</h1>
                    <p class="hero-subtitle">æ¢ç´¢27æ¬¾ç²¾å¿ƒæ‰“é€ çš„å¼€æºAIå·¥å…·ï¼Œæ¶µç›–AIåŠ¨ç”»ç”Ÿæˆã€æ™ºèƒ½æ•°æ®åˆ†æã€è‡ªåŠ¨åŒ–å®¢æœã€ç®€å†æ™ºèƒ½åŒ¹é…ã€å›¾åƒå¤„ç†ã€æ–‡æœ¬åˆ†æã€è¯­éŸ³è¯†åˆ«ã€ä»£ç ç”Ÿæˆã€æ¨èç³»ç»Ÿå’Œè‡ªç„¶è¯­è¨€å¤„ç†ç­‰å¤šä¸ªå‰æ²¿é¢†åŸŸï¼ŒåŸºäºæœ€æ–°çš„æ·±åº¦å­¦ä¹ ä¸æœºå™¨å­¦ä¹ æŠ€æœ¯æ¡†æ¶ï¼Œè®©AIæŠ€æœ¯çœŸæ­£èµ‹èƒ½æ‚¨çš„åˆ›æ„è¡¨è¾¾ä¸å·¥ä½œæ•ˆç‡æå‡ï¼ŒåŠ©åŠ›ä¸ªäººå¼€å‘è€…ä¸ä¼ä¸šå®ç°æ™ºèƒ½åŒ–è½¬å‹</p>
                    <div class="hero-actions">
                        <a href="/#products" class="btn btn-primary">æ¢ç´¢äº§å“</a>
                        <a href="#contact" class="btn btn-secondary">è”ç³»æˆ‘ä»¬</a>
                    </div>
                </div>
                <div class="hero-visual">
                    <div style="text-align: center;">
                        <div style="margin-bottom: 2rem;">
                            <h4 style="color: var(--primary-color); margin-bottom: 1rem;">ğŸ¬ æ•ˆæœé¢„è§ˆ</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; max-width: 600px; margin: 0 auto;">
                                <div>
                                    <img src="https://github.com/liangdabiao/ai-make-face-meme/raw/main/nanomotion-animation-1764830380765.gif"
                                         alt="AI Animation Demo 1"
                                         style="width: 100%; height: auto; border-radius: var(--radius); box-shadow: var(--shadow-md);"
                                         loading="lazy"
                                         onerror="this.style.display='none';">
                                </div>
                                <div>
                                    <img src="https://github.com/liangdabiao/ai-make-face-meme/raw/main/nanomotion-animation-1764830817471.gif"
                                         alt="AI Animation Demo 2"
                                         style="width: 100%; height: auto; border-radius: var(--radius); box-shadow: var(--shadow-md);"
                                         loading="lazy"
                                         onerror="this.style.display='none';">
                                </div>
                            </div>
                            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 1rem;">
                                âœ¨ ä»å•å¼ å›¾ç‰‡ç”Ÿæˆçš„æµç•…åŠ¨ç”»æ•ˆæœ
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- é¡¹ç›®ä»‹ç»åŒºåŸŸ -->
        <section id="project-intro" class="project-intro" style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); padding: 60px 0;">
            <div class="container">
                <div class="section-header" style="text-align: center; margin-bottom: 40px;">
                    <h2 style="font-size: 2.5rem; margin-bottom: 15px; color: var(--primary-color);">ğŸš€ AIå·¥å…·ç”Ÿæ€å¹³å°</h2>
                    <p style="font-size: 1.2rem; color: #666;">27+æ¬¾å¼€æºAIå·¥å…·ï¼Œè¦†ç›–æ•°æ®åˆ†æã€å•†ä¸šæ™ºèƒ½ã€ä¼ä¸šAIã€åˆ›æ„åˆ¶ä½œç­‰å¤šä¸ªé¢†åŸŸ</p>
                </div>

                <div class="intro-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-top: 40px;">
                    <div class="intro-card" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ¯</div>
                        <h3 style="font-size: 1.4rem; margin-bottom: 10px; color: var(--primary-color);">è§£å†³å®é™…é—®é¢˜</h3>
                        <p style="color: #666; line-height: 1.6;">æ¯ä¸ªå·¥å…·éƒ½æºäºçœŸå®åœºæ™¯éœ€æ±‚ï¼Œä»å®šæ ¼åŠ¨ç”»ç”Ÿæˆåˆ°è‚¡ç¥¨æ·±åº¦åˆ†æï¼Œä»å•†ä¸šåˆ›æ„éªŒè¯åˆ°æ™ºèƒ½å®¢æœç³»ç»Ÿ</p>
                    </div>

                    <div class="intro-card" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ”§</div>
                        <h3 style="font-size: 1.4rem; margin-bottom: 10px; color: var(--primary-color);">å‰æ²¿æŠ€æœ¯æ ˆ</h3>
                        <p style="color: #666; line-height: 1.6;">åŸºäº Claude Codeã€LangGraphã€CrewAIã€Next.jsã€FastAPI ç­‰æœ€æ–°æŠ€æœ¯æ¡†æ¶ï¼Œä»£ç å¼€æºå¯å¤ç”¨</p>
                    </div>

                    <div class="intro-card" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸ“š</div>
                        <h3 style="font-size: 1.4rem; margin-bottom: 10px; color: var(--primary-color);">å®Œæ•´æ–‡æ¡£æ”¯æŒ</h3>
                        <p style="color: #666; line-height: 1.6;">æ¯ä¸ªé¡¹ç›®éƒ½é…æœ‰è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—ã€APIæ–‡æ¡£å’Œéƒ¨ç½²æ•™ç¨‹ï¼ŒåŠ©æ‚¨å¿«é€Ÿä¸Šæ‰‹</p>
                    </div>

                    <div class="intro-card" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">
                        <div style="font-size: 3rem; margin-bottom: 15px;">ğŸŒŸ</div>
                        <h3 style="font-size: 1.4rem; margin-bottom: 10px; color: var(--primary-color);">æŒç»­æ›´æ–°è¿­ä»£</h3>
                        <p style="color: #666; line-height: 1.6;">æ´»è·ƒçš„ GitHub ç¤¾åŒºï¼Œå®šæœŸæ›´æ–°åŠŸèƒ½ï¼Œå¿«é€Ÿå“åº”ç”¨æˆ·åé¦ˆï¼Œç´§è·ŸAIæŠ€æœ¯å‘å±•</p>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 50px;">
                    <div style="display: inline-flex; gap: 20px; flex-wrap: wrap; justify-content: center;">
                        <a href="docs/" style="display: inline-block; padding: 15px 30px; background: var(--primary-color); color: white; border-radius: 8px; text-decoration: none; font-weight: 500; transition: all 0.3s;">
                            ğŸ“– æŸ¥çœ‹å®Œæ•´æ–‡æ¡£
                        </a>
                        <a href="https://github.com/liangdabiao" target="_blank" style="display: inline-block; padding: 15px 30px; background: white; color: var(--primary-color); border: 2px solid var(--primary-color); border-radius: 8px; text-decoration: none; font-weight: 500; transition: all 0.3s;">
                            ğŸ’» GitHub ä¸»é¡µ
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- é¡¹ç›®åˆ†ç±»å¯¼èˆª -->
        <section id="project-categories" class="project-categories" style="padding: 60px 0; background: white;">
            <div class="container">
                <div class="section-header" style="text-align: center; margin-bottom: 40px;">
                    <h2 style="font-size: 2.2rem; margin-bottom: 15px;">ğŸ“‚ é¡¹ç›®åˆ†ç±»</h2>
                    <p style="color: #666; font-size: 1.1rem;">æŒ‰é¢†åŸŸå¿«é€Ÿæ‰¾åˆ°æ‚¨éœ€è¦çš„AIå·¥å…·</p>
                </div>

                <div class="category-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">
                    <a href="#products" class="category-card" style="display: block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 25px; border-radius: 12px; color: white; text-decoration: none; transition: transform 0.3s;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ¤–</div>
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">AIå·¥å…·</h3>
                        <p style="font-size: 0.85rem; opacity: 0.9;">6ä¸ªå·¥å…·</p>
                    </a>

                    <a href="#products" class="category-card" style="display: block; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 25px; border-radius: 12px; color: white; text-decoration: none; transition: transform 0.3s;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“Š</div>
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">æ•°æ®åˆ†æ</h3>
                        <p style="font-size: 0.85rem; opacity: 0.9;">4ä¸ªå·¥å…·</p>
                    </a>

                    <a href="#products" class="category-card" style="display: block; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 25px; border-radius: 12px; color: white; text-decoration: none; transition: transform 0.3s;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ’¼</div>
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">å•†ä¸šå·¥å…·</h3>
                        <p style="font-size: 0.85rem; opacity: 0.9;">4ä¸ªå·¥å…·</p>
                    </a>

                    <a href="#products" class="category-card" style="display: block; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); padding: 25px; border-radius: 12px; color: white; text-decoration: none; transition: transform 0.3s;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ¢</div>
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">ä¼ä¸šAI</h3>
                        <p style="font-size: 0.85rem; opacity: 0.9;">2ä¸ªå·¥å…·</p>
                    </a>

                    <a href="#products" class="category-card" style="display: block; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); padding: 25px; border-radius: 12px; color: white; text-decoration: none; transition: transform 0.3s;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ“ˆ</div>
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">é‡‘èç§‘æŠ€</h3>
                        <p style="font-size: 0.85rem; opacity: 0.9;">2ä¸ªå·¥å…·</p>
                    </a>

                    <a href="#products" class="category-card" style="display: block; background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); padding: 25px; border-radius: 12px; color: white; text-decoration: none; transition: transform 0.3s;">
                        <div style="font-size: 2.5rem; margin-bottom: 10px;">ğŸ”§</div>
                        <h3 style="font-size: 1.1rem; margin-bottom: 5px;">åŸºç¡€è®¾æ–½</h3>
                        <p style="font-size: 0.85rem; opacity: 0.9;">1ä¸ªå·¥å…·</p>
                    </a>
                </div>
            </div>
        </section>

        <section id="products" class="products">
            <div class="container">
                <div class="section-header">
                    <h2>æˆ‘ç ”å‘çš„Agent</h2>
                    <p>ä¸ºè§£å†³å®é™…é—®é¢˜è€Œç”Ÿçš„å®ç”¨AIå·¥å…·</p>
                </div>

                <!-- ç­›é€‰æŒ‰é’® -->
                <div class="filter-buttons" style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 30px; justify-content: center;">
                    <button class="filter-btn active" data-filter="all" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: var(--primary-color); color: white; border-radius: 25px; cursor: pointer; font-size: 0.9rem;">å…¨éƒ¨</button>
                    <button class="filter-btn" data-filter="AIå·¥å…·" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: white; color: var(--primary-color); border-radius: 25px; cursor: pointer; font-size: 0.9rem;">ğŸ¤– AIå·¥å…·</button>
                    <button class="filter-btn" data-filter="æ•°æ®åˆ†æ" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: white; color: var(--primary-color); border-radius: 25px; cursor: pointer; font-size: 0.9rem;">ğŸ“Š æ•°æ®åˆ†æ</button>
                    <button class="filter-btn" data-filter="å•†ä¸šå·¥å…·" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: white; color: var(--primary-color); border-radius: 25px; cursor: pointer; font-size: 0.9rem;">ğŸ’¼ å•†ä¸šå·¥å…·</button>
                    <button class="filter-btn" data-filter="ä¼ä¸šAI" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: white; color: var(--primary-color); border-radius: 25px; cursor: pointer; font-size: 0.9rem;">ğŸ¢ ä¼ä¸šAI</button>
                    <button class="filter-btn" data-filter="é‡‘èç§‘æŠ€" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: white; color: var(--primary-color); border-radius: 25px; cursor: pointer; font-size: 0.9rem;">ğŸ“ˆ é‡‘èç§‘æŠ€</button>
                    <button class="filter-btn" data-filter="åŸºç¡€è®¾æ–½" style="padding: 10px 20px; border: 2px solid var(--primary-color); background: white; color: var(--primary-color); border-radius: 25px; cursor: pointer; font-size: 0.9rem;">ğŸ”§ åŸºç¡€è®¾æ–½</button>
                </div>

                <div class="products-grid" id="productsGrid">
                    <!-- äº§å“å¡ç‰‡å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                </div>

                <!-- é¡¹ç›®æ–‡æ¡£å…¥å£ -->
                <div style="text-align: center; margin-top: 50px; padding: 40px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 12px;">
                    <h3 style="font-size: 1.8rem; margin-bottom: 15px;">ğŸ“š éœ€è¦è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—ï¼Ÿ</h3>
                    <p style="color: #666; margin-bottom: 25px; font-size: 1.1rem;">è®¿é—®æˆ‘ä»¬çš„æ–‡æ¡£ä¸­å¿ƒï¼Œè·å–æ¯ä¸ªé¡¹ç›®çš„è¯¦ç»†æ•™ç¨‹ã€APIæ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—</p>
                    <a href="docs/" style="display: inline-block; padding: 15px 40px; background: var(--primary-color); color: white; border-radius: 8px; text-decoration: none; font-weight: 500; font-size: 1.1rem; transition: all 0.3s;">
                        è¿›å…¥æ–‡æ¡£ä¸­å¿ƒ â†’
                    </a>
                </div>
            </div>
        </section>

        <section id="features" class="features">
            <div class="container">
                <div class="section-header">
                    <h2>ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬</h2>
                    <p>ä¸“æ³¨äºç”¨æˆ·ä½“éªŒå’Œå®ç”¨æ€§çš„å·¥å…·è®¾è®¡</p>
                </div>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">âš¡</div>
                        <h3>é«˜æ•ˆå¿«é€Ÿ</h3>
                        <p>ä¼˜åŒ–çš„æ€§èƒ½ï¼Œè®©æ‚¨çš„å·¥ä½œæµç¨‹æ›´åŠ é¡ºç•…</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¯</div>
                        <h3>ç²¾å‡†å®ç”¨</h3>
                        <p>é’ˆå¯¹å®é™…éœ€æ±‚è®¾è®¡ï¼Œè§£å†³çœŸå®é—®é¢˜</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”’</div>
                        <h3>å®‰å…¨å¯é </h3>
                        <p>æ•°æ®å®‰å…¨æ˜¯æˆ‘ä»¬çš„é¦–è¦è€ƒè™‘</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“±</div>
                        <h3>å“åº”å¼è®¾è®¡</h3>
                        <p>å®Œç¾é€‚é…å„ç§è®¾å¤‡å’Œå±å¹•å°ºå¯¸</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="about">
            <div class="container">
                <div class="about-content">
                    <div class="about-text">
                        <h2>å…³äºæˆ‘ä»¬</h2>
                        <p>æˆ‘ä»¬æ˜¯ä¸€ç¾¤çƒ­çˆ±åˆ›æ–°çš„æŠ€æœ¯çˆ±å¥½è€…ï¼Œè‡´åŠ›äºåˆ›é€ èƒ½å¤ŸçœŸæ­£è§£å†³é—®é¢˜çš„å·¥å…·ã€‚æ¯ä¸€ä¸ªäº§å“éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡å’Œåå¤æ‰“ç£¨ï¼Œç¡®ä¿ä¸ºç”¨æˆ·æä¾›æœ€ä½³çš„ä½¿ç”¨ä½“éªŒã€‚</p>
                        <p>æˆ‘ä»¬ç›¸ä¿¡å¥½çš„å·¥å…·åº”è¯¥ç®€å•æ˜“ç”¨ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ— ç¼é›†æˆåˆ°æ‚¨çš„å·¥ä½œæµç¨‹ä¸­ã€‚</p>
                        <a href="#contact" class="btn btn-primary">è”ç³»æˆ‘ä»¬</a>
                    </div>
                    <div class="about-stats">
                        <div class="stat-card">
                            <div class="stat-number">27+</div>
                            <div class="stat-label">å®ç”¨å·¥å…·</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">1000+</div>
                            <div class="stat-label">ç”¨æˆ·ä¿¡èµ–</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">99.9%</div>
                            <div class="stat-label">å¯ç”¨æ€§</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact">
            <div class="container">
                <div class="section-header">
                    <h2>è”ç³»æˆ‘ä»¬</h2>
                    <p>æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Ÿæˆ‘ä»¬å¾ˆä¹æ„å¬åˆ°æ‚¨çš„å£°éŸ³</p>
                </div>
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-item">
                            <div class="contact-icon">ğŸ“§</div>
                            <div class="contact-text">
                                <h4>é‚®ç®±</h4>
                                <p>497070928@qq.com</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">ğŸ’¬</div>
                            <div class="contact-text">
                                <h4>åœ¨çº¿å®¢æœ</h4>
                                <p>å·¥ä½œæ—¥ 9:00-18:00</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">ğŸ¦</div>
                            <div class="contact-text">
                                <h4>ç¤¾äº¤åª’ä½“</h4>
                                <p>https://linux.do/u/liangdabiao</p>
                            </div>
                        </div>
                    </div>
                    <div class="contact-form">
                        <p class="form-description">å¡«å†™ä¸‹é¢çš„è¡¨å•ï¼Œæˆ‘ä»¬å°†é€šè¿‡å³æ—¶æ¶ˆæ¯é€šçŸ¥å›å¤æ‚¨</p>
                        <form id="contactForm">
                            <div class="form-group">
                                <input type="text" id="name" name="name" placeholder="æ‚¨çš„å§“å" required>
                            </div>
                            <div class="form-group">
                                <input type="email" id="email" name="email" placeholder="æ‚¨çš„é‚®ç®±" required>
                            </div>
                            <div class="form-group">
                                <textarea id="message" name="message" placeholder="æ‚¨çš„æ¶ˆæ¯" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary btn-full">å‘é€æ¶ˆæ¯</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>æˆ‘çš„å·¥å…·ç®±</h3>
                    <p>ä¸“æ³¨äºåˆ›é€ å®ç”¨é«˜æ•ˆçš„å·¥å…·äº§å“</p>
                </div>
                <div class="footer-section">
                    <h4>å¿«é€Ÿé“¾æ¥</h4>
                    <ul>
                        <li><a href="#home">é¦–é¡µ</a></li>
                        <li><a href="#products">äº§å“</a></li>
                        <li><a href="docs/">ä½¿ç”¨æŒ‡å—</a></li>
                        <li><a href="#about">å…³äºæˆ‘ä»¬</a></li>
                        <li><a href="#contact">è”ç³»æˆ‘ä»¬</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>äº§å“</h4>
                    <ul id="footerProducts">
                        <!-- äº§å“é“¾æ¥å°†é€šè¿‡ JavaScript åŠ¨æ€ç”Ÿæˆ -->
                        <li><a href="docs/">æ‰€æœ‰äº§å“ä½¿ç”¨æŒ‡å—</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 æˆ‘çš„å·¥å…·ç®±. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            </div>
        </div>
    </footer>

    <script src="./script.js"></script>
</body>
</html>





















 
 
    <div class="chatbot-container lwh-open-cbot">
        <div class="custom-chatbot__image" onclick="lwhOpenCbotToggleChat()">
            <button class="chat-button" onclick="openChat()">Chat</button>

        </div>
        <div class="custom-chatbot">

            <div class="chat">
                <div class="feedback-form">
                    <div class="feedback-header">
                        <p>Feedback</p>
                        <p class="feedback__modal-close" onclick="lwhOpenCbotremoveFeedbackModal()"><i class="fa-solid fa-xmark"></i></p>
                    </div>
                    <form onsubmit="lwhOpenCbotsendFeedback(event)">
                        <textarea name="feedback" id="feedback"  rows="4" required></textarea>
                        <button type="submit">Send Feedback</button>
                    </form>
                    
                </div>
                <div class="loading">
                    <p><i class="fa-solid fa-circle-notch fa-spin"></i></p>
                    <p>Wait a moment</p>
                </div>
                <div class="popup">
                    <p>Oops! Something went wrong!</h2>
                </div>
                <div class="chat__header">
                    <div>
                        <div class="chat__title"> AI Chatbot
                            
                        </div>
                        <div>
                            <div class="chat__status"><span></span> Offline</div>
                           
                        </div>
                    </div>
                    <div>
                

                        <div class="chat__close-icon" onclick="lwhOpenCbotToggleChat()">
                            <i class="fa-solid fa-xmark"></i>
                        </div>
                    </div>
                </div>

                <div class="chat__messages">
                   


                </div>


                <div class="chat__input-area">
                    <div class="selected-image-container">

                    </div>
                    <form id="messageForm" onsubmit="lwhOpenCbotonFormSubmit(event)">
                        <div>
                            <div class="input">


                                <div>
                                    <input type="text" id="message" name="message" placeholder="Type your message"
                                        autocomplete="off" required>
                                </div>

                            </div>
                            <div>
                                <button type="submit" id="submit-btn"><i class="fa-solid fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </form>

                </div>


            </div>
        </div>
    </div>
 
<style>
.lwh-open-cbot, .lwh-open-cbot :root {
    --chatbot-width: 525px;
    --chatbot-font-family: 'Segoe UI';
    --chatbot-image-position-bottom: 5%;
    --chatbot-image-position-right: 3%;
    --chatbot-position-bottom: 6%;
    --chatbot-position-right: 10%;
    --chatbot-height:60vh;
    --chatbot-border-color: #E4E3E3;
    --chatbot-primary-color: #2B2A66;
    --chatbot-secondary-color: #2c2b8e;
    --chatbot-hover-color: #1e8ece;
    --chatbot-bg-color: #F1F1F1;
    --chatbot-scrollbar-track-color: #f3f3f3;
    --chatbot-scrollbar-thumb-color: #d7d7d7;
    --chatbot-scrollbar-thumb-hover-color: #949494;
    --chatbot-button-disabled-color: grey;
    --chatbot-popup-bg-color: #fff;
    --chatbot-dot-color: grey;
}

.lwh-open-cbot *,
.lwh-open-cbot *::after,
.lwh-open-cbot *::before,
.lwh-open-cbot *:focus {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

.lwh-open-cbot *:focus {
    box-shadow: none;
}


.lwh-open-cbot .custom-chatbot {
    width: var(--chatbot-width);
    font-family: var(--chatbot-font-family);
    position: fixed;
    bottom: var(--chatbot-position-bottom);
    right: var(--chatbot-position-right);
    overflow: hidden;
    z-index: 9998;
    pointer-events: none;
}

.lwh-open-cbot .custom-chatbot .chat__messages__ai a {
    color: var(--chatbot-primary-color);
    text-decoration: none;
}

.lwh-open-cbot .chat {
    background-color: white;
    position: relative;
    z-index: 9999;
    border: 1.5px solid var(--chatbot-border-color);
    border-radius: 12px;
    opacity: 0;
    transform: translateY(100%);
    transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out, display 0s linear 0.5s;
    pointer-events: auto;
}

.lwh-open-cbot .chat.show {
    opacity: 1;
    transform: translateY(0);
    transition-delay: 0s;
}

.lwh-open-cbot .custom-chatbot__image {
    position: fixed;
    right: var(--chatbot-image-position-right);
    bottom: var(--chatbot-image-position-bottom);
    z-index: 9999;
    cursor: pointer;
    pointer-events: auto;
}

.lwh-open-cbot .custom-chatbot button {
    border: none;
    background: none;
}

.lwh-open-cbot .custom-chatbot button>i {
    color: var(--chatbot-primary-color);
    font-size: 18px;
}

.lwh-open-cbot .custom-chatbot button:hover i {
    color: var(--chatbot-hover-color);
    cursor: pointer;
}

.lwh-open-cbot .custom-chatbot input[type='text'] {
    border: none;
    outline: none;
    padding: 0;
    box-shadow: none !important;
}

.lwh-open-cbot .chat__header {
    display: flex;
    justify-content: space-between;
    border-bottom: 1.5px solid var(--chatbot-border-color);
    padding: 12px 10px;
    align-items: flex-start;
    position: relative;
    z-index: 1;
}

.lwh-open-cbot .chat__header>div:nth-child(1)>div:nth-child(2) {
    display: flex;
    align-items: end;
    gap: 1rem;
    margin-top: 4px;
}

.lwh-open-cbot .chat__header .chat__new {
    font-size: 11px;
    font-weight: 500;
    padding: 3px 6px 4px 6px;
    background-color: var(--chatbot-primary-color);
    color: white;
    cursor: pointer;
    border-radius: 4px;
}

.lwh-open-cbot .chat__header .chat__new:hover {
    background-color: var(--chatbot-hover-color);
}

.lwh-open-cbot .chat__header>div:nth-child(2) {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.lwh-open-cbot .chat__export i,
.lwh-open-cbot .chat__close-icon i {
    display: block;
}

.lwh-open-cbot .chat__export i:hover,
.lwh-open-cbot .chat__close-icon i:hover,
.lwh-open-cbot .copy-text i:hover,
.lwh-open-cbot .feedback-btn:hover,
.lwh-open-cbot .feedback__modal-close:hover {
    color: var(--chatbot-hover-color);
    cursor: pointer;
}

.lwh-open-cbot .chat__export {
    font-size: 12px;
    cursor: pointer;
    width: -moz-fit-content;
    width: fit-content;
    margin-left: -1px;
}

.lwh-open-cbot .chat__title {
    font-weight: 500;
    font-size: 18px;
}

.lwh-open-cbot .chat__title span {
    font-size: 12px;
}

.lwh-open-cbot .chat__status {
    font-size: 14px;
    font-weight: 500;
    color: rgba(0, 0, 0, 0.6);
    display: flex;
    gap: 6px;
    align-items: center;
    margin-top: 4px;
}

.lwh-open-cbot .chat__status span {
    background-color: #68D391;
    background-color: #acacac;
    width: 8px;
    height: 8px;
    display: block;
    border-radius: 100px;
}

.lwh-open-cbot .chat__close-icon {
    cursor: pointer;
    position: relative;
    z-index: 1;
}

.lwh-open-cbot .chat__messages {
    padding: 12px 10px 0 10px;
    display: flex;
    flex-direction: column;
    gap: 16px;
    height: var(--chatbot-height);
    overflow-y: auto;
    position: relative;
}

.lwh-open-cbot .chat__messages::-webkit-scrollbar,
.lwh-open-cbot .chat__messages__ai code::-webkit-scrollbar {
    width: 3px;
    height: 5px;
}

.lwh-open-cbot .chat__messages::-webkit-scrollbar-track,
.lwh-open-cbot .chat__messages__ai code::-webkit-scrollbar-track {
    background: var(--chatbot-scrollbar-track-color);
}

.lwh-open-cbot .chat__messages::-webkit-scrollbar-thumb,
.lwh-open-cbot .chat__messages__ai code::-webkit-scrollbar-thumb {
    background: var(--chatbot-scrollbar-thumb-color);
    border-radius: 100px;
}

.lwh-open-cbot .chat__messages::-webkit-scrollbar-thumb:hover,
.lwh-open-cbot .chat__messages__ai code::-webkit-scrollbar-thumb:hover {
    background: var(--chatbot-scrollbar-thumb-hover-color);
}

.lwh-open-cbot .chat__messages__user,
.lwh-open-cbot .chat__messages__ai {
    display: flex;
    gap: 6px;
    flex-direction: column;
    width: calc(100% - 38px);
}

.lwh-open-cbot .chat__messages__user {
    align-self: flex-end;
}

.lwh-open-cbot .chat__messages__user>div {
    align-items: end;
    align-self: flex-end;
}

.lwh-open-cbot .chat__messages__ai>div,
.lwh-open-cbot .chat__messages__user>div {
    display: flex;
    gap: 0.5rem;
}

.lwh-open-cbot .chat__messages__ai p {
    background-color: var(--chatbot-bg-color);
    padding: 6px 12px;
    border-radius: 0px 8px 8px 8px;
    width: 100%;
    max-width: 100%;
    align-self: flex-start;
    display: block;
    position: relative;
    padding-right: 20px;
}

.lwh-open-cbot .chat__messages__ai .code-snippet {
    background-color: rgb(27, 27, 27);
    border-radius: 8px;
}

.lwh-open-cbot .chat__messages__ai pre {
    display: flex;
    overflow: hidden;
}

.lwh-open-cbot .chat__messages__ai code {
    display: block;
    padding: 10px;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    color: #f8f8f8;
    overflow-x: auto;
    word-break: normal;
    word-spacing: normal;
    white-space: pre;
    align-self: flex-start;
    text-align: left;
}

.lwh-open-cbot .snippet-header {
    background: rgb(164, 164, 164);
    border-radius: 8px 8px 0 0;
    padding: 6px 12px;
}

.lwh-open-cbot .snippet-header button {
    cursor: pointer;
    color: rgb(55 55 55);
    font-weight: 600;
}

.lwh-open-cbot .chat__messages__ai img:not(.bot-image) {
    padding: 6px 12px;
    border-radius: 0px 8px 8px 8px;
    align-self: flex-start;
    border: 1.5px solid var(--chatbot-bg-color);
    max-width: 160px;
}

.lwh-open-cbot .chat__messages__user p {
    background-color: var(--chatbot-primary-color);
    padding: 6px 12px;
    border-radius: 8px 8px 0px 8px;
    color: white;
    width: -moz-fit-content;
    width: fit-content;
    align-self: flex-end;
}

.lwh-open-cbot .chat__messages__user img:not(.avatar-image) {
    padding: 6px 12px;
    border-radius: 8px 8px 0px 8px;
    align-self: flex-end;
    border: 1.5px solid var(--chatbot-primary-color);
    max-width: 160px;
}

.lwh-open-cbot .chat__input-area {
    padding: 12px 10px;
    position: relative;
    z-index: 1;
}

.lwh-open-cbot .chat__input-area>form {
    border: 2px solid var(--chatbot-border-color);
    border-radius: 10px;
    padding: 8px 10px;
}

.lwh-open-cbot .chat__input-area>form>div {
    display: flex;
    gap: 6px;
    align-items: center;
}

.lwh-open-cbot .chat__input-area .input {
    display: flex;
    gap: 6px;
    width: 100%;
    align-items: center;
}

.lwh-open-cbot .chat__input-area .input label {
    font-size: 12px;
    opacity: 0.7;
}

.lwh-open-cbot .chat__input-area .input label:hover {
    color: var(--chatbot-secondary-color);
    cursor: pointer;
    opacity: 1;
}

.lwh-open-cbot .chat__input-area .input>div:nth-child(1),
.lwh-open-cbot .chat__input-area .input input {
    width: 100%;
    font-size: 16px;
}

.lwh-open-cbot .custom-chatbot button[disabled] i {
    cursor: not-allowed;
    color: var(--chatbot-button-disabled-color);
}

.lwh-open-cbot .popup {
    display: none;
    width: 100%;
    position: absolute;
    background-color: var(--chatbot-popup-bg-color);
    padding: 12px;
    border-radius: 4px;
    top: 1%;
    opacity: 0;
    font-weight: 500;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    z-index: 2;
}

.lwh-open-cbot .popup-animation {
    animation: slideInRight 0.5s ease forwards, fadeOut 2s ease forwards 3s;
}

.lwh-open-cbot .popup p {
    color: var(--chatbot-popup-text-color);
}

.lwh-open-cbot .popup .close-btn {
    position: absolute;
    top: 5px;
    right: 5px;
    cursor: pointer;
}

@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes blink {
    50% {
        fill: transparent;
    }
}

.lwh-open-cbot .dot {
    animation: 1s blink infinite;
    fill: var(--chatbot-dot-color);
}

.lwh-open-cbot .dot:nth-child(2) {
    animation-delay: 250ms;
}

.lwh-open-cbot .dot:nth-child(3) {
    animation-delay: 500ms;
}

.lwh-open-cbot .loading {
    position: absolute;
    top: 0;
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    justify-content: center;
    align-items: center;
    text-align: center;
    font-size: 20px;
}

.lwh-open-cbot .copy-text {
    cursor: pointer;
    font-size: 12px;
    position: absolute;
    top: 4px;
    right: 4px;
}

.lwh-open-cbot .copy-text span {
    display: none;
    position: absolute;
    background-color: white;
    border-radius: 4px;
    padding: 0px 6px 1px 6px;
    color: black;
    border: 1px solid var(--chatbot-border-color);
}

.lwh-open-cbot .avatar-image {
    display: block;
}

.lwh-open-cbot .startup-btns {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    position: absolute;
    bottom: 0;
}

.lwh-open-cbot .startup-btns p {
    padding: 6px 10px;
    border: 1px solid var(--chatbot-border-color);
    border-radius: 4px;
    width: -moz-fit-content;
    width: fit-content;
    cursor: pointer;
}

.lwh-open-cbot .startup-btns p:hover {
    background-color: var(--chatbot-hover-color);
    color: white;
}

.lwh-open-cbot .feedback-form {
    background: white;
    border-radius: 4px;
    box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.2);
    position: absolute;
    width: 100%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    padding: 0.8rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    display: none;
}

.lwh-open-cbot .feedback-form.show {
    display: flex;
}

.lwh-open-cbot .feedback-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 0 0 0.8rem 0;
}

.lwh-open-cbot .feedback-form form {
    display: flex;
    flex-direction: column;
    align-items: baseline;
}

.lwh-open-cbot .feedback-form textarea {
    width: 100%;
    border: 2px solid var(--chatbot-border-color);
    outline: none;
    padding: 6px;
    font-size: 16px;
}

.lwh-open-cbot .feedback-form button {
    background: var(--chatbot-primary-color);
    padding: 0.7rem;
    color: white;
    cursor: pointer;
    margin-top: 0.5rem;
    font-size: 14px;
    font-weight: 400;
}

.lwh-open-cbot .feedback-form button[disabled] {
    cursor: not-allowed;
    background-color: var(--chatbot-button-disabled-color) !important;
}

.lwh-open-cbot .feedback-form button:hover {
    background: var(--chatbot-hover-color);
}

.lwh-open-cbot .footer-area {
    padding: 0 10px 10px 10px;
    font-size: 11px;
    display: none;
}

.lwh-open-cbot .footer-area a {
    text-decoration: none;
}
	
.chat-button {
    background-color: #4CAF50;
    color: white;
    padding: 10px 20px !important;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
    padding: 10px;
}
.chat-button:hover {
    background-color: #45a049; /* æ‚¬åœæ—¶æ·±ç»¿è‰² */
}

@media (max-width: 679px) {
    .lwh-open-cbot .custom-chatbot {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        right: auto;
        bottom: auto;
    }
}
</style>

<!-- ç®€å•çš„Markdownè½¬HTMLå‡½æ•° -->
<script>
// è½»é‡çº§Markdownè½¬HTMLè½¬æ¢å™¨
function markdownToHtml(markdown) {
    if (!markdown) return '';
    
    let html = markdown;
    
    // è½¬ä¹‰HTMLç‰¹æ®Šå­—ç¬¦
    html = html.replace(/&/g, '&amp;')
               .replace(/</g, '&lt;')
               .replace(/>/g, '&gt;')
               .replace(/"/g, '&quot;')
               .replace(/'/g, '&#39;');
    
    // æ ‡é¢˜ (# ## ###)
    html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>')
               .replace(/^## (.*$)/gim, '<h2>$1</h2>')
               .replace(/^# (.*$)/gim, '<h1>$1</h1>');
    
    // ç²—ä½“å’Œæ–œä½“
    html = html.replace(/\*\*\*(.*?)\*\*\*/g, '<strong><em>$1</em></strong>');
    html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
    html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
    
    // ä»£ç å—
    html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
    html = html.replace(/`([^`]+)`/g, '<code>$1</code>');
    
    // å›¾ç‰‡ - ä¿æŒURLåŸæ ·ï¼Œé¿å…è§£ç å¯¼è‡´çš„é—®é¢˜
    html = html.replace(/!\[([^\]]*)\]\(([^\)]+)\)/g, (match, alt, url) => {
        // ä¿æŒURLåŸæ ·ï¼Œä¸è¿›è¡Œè§£ç ï¼Œé¿å…%3Dç­‰è¢«é”™è¯¯è½¬æ¢
        return `<img src="${url}" alt="${alt}" style="max-width: 100%; height: auto;">`;
    });
    
    // é“¾æ¥ - è§£ç URLä»¥é¿å…åŒé‡ç¼–ç é—®é¢˜
    html = html.replace(/\[([^\]]+)\]\(([^\)]+)\)/g, (match, text, url) => {
        // è§£ç URLä¸­çš„ç¼–ç å­—ç¬¦ï¼ˆå¦‚%3D -> =ï¼‰
        const decodedUrl = decodeURIComponent(url);
        return `<a href="${decodedUrl}" target="_blank">${text}</a>`;
    });

    
    // æ¢è¡Œ
    html = html.replace(/\n/g, '<br>');
    
    // æ®µè½
    html = html.replace(/<br><br>/g, '</p><p>');
    html = '<p>' + html + '</p>';
    html = html.replace(/<p><\/p>/g, '');
    
    return html;
}
</script>

 <script>
const apiUrl = 'https://chat.liangdabiao.com/myapi/v1/chat-bot/stream';
const botConfigurationUrl = 'https://chat.liangdabiao.com/myapi/v1/chat-bot-config';
const nonStreamApiUrl = 'https://chat.liangdabiao.com/myapi/v1/chat-bot';
const copyButtons = document.querySelectorAll('.lwh-open-cbot .copy-button');
const button = document.querySelector('.lwh-open-cbot #submit-btn');
let messageInput = document.querySelector('.lwh-open-cbot #message');
let content = [];
let botConfigData = '';
let conversationTranscript = [];

function lwhOpenCbotToggleChat() {
    const chatWindow = document.querySelector(".lwh-open-cbot .chat");
    chatWindow.classList.toggle('show');
    if(chatWindow.classList.contains('show')){
        document.querySelector(".lwh-open-cbot .custom-chatbot").style.zIndex = '9999'
    }
    else{
        document.querySelector(".lwh-open-cbot .custom-chatbot").style.zIndex = '9998'
    }
}

function lwhOpenCbotonFormSubmit(event, userMessage) {
    event.preventDefault();
    if(button.disabled == true) return
    let message;
    if(userMessage == undefined){
        message = messageInput.value.trim();
        document.querySelector(".lwh-open-cbot .startup-btns").style.display = "none";
    }
    else{
        message = userMessage;
    }
    content.push({
        role: 'user',
        message: message,
    });
    let timestamp = new Date().toLocaleString();
    conversationTranscript.push({
        sender: 'user',
        time: timestamp,
        message: message,
    });
    data = "";
    if (message !== '') {
        lwhOpenCbotaddMessage('user', message);
        messageInput.value = '';
        lwhOpenCbotaddTypingAnimation('ai');
        lwhOpenCbotfetchDataStream()
    }
}

function lwhOpenCbotaddMessage(sender, message) {
    let chatMessagesContainer = document.querySelector('.lwh-open-cbot .chat__messages');
    let messageContainer = document.createElement('div');
    messageContainer.classList.add('chat__messages__' + sender);
    let messageDiv = document.createElement('div');
    messageDiv.innerHTML = `
            ${sender === 'ai' ?
            `
                <div>
                <img width="30px" class="bot-image"
                    src="${botConfigData.botImageURL}"
                    alt="bot-image">
                </div>
                `
            : ""
        }
            <p>${message}
             </p>
            ${sender === 'user' ?
            `
                <div>
                <img width="30px" class="avatar-image"
                    src="${botConfigData.userAvatarURL}"
                    alt="avatar">
                </div>
                `
            : ""
        }
        `;
    messageContainer.appendChild(messageDiv);
    chatMessagesContainer.appendChild(messageContainer);
    chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
}

function lwhOpenCbotaddTypingAnimation(sender) {
    let chatMessagesContainer = document.querySelector('.lwh-open-cbot .chat__messages');
    let typingContainer = document.createElement('div');
    typingContainer.classList.add('chat__messages__' + sender);
    let typingAnimationDiv = document.createElement('div');
    typingAnimationDiv.classList.add('typing-animation');
    typingAnimationDiv.innerHTML = `
        <div>
        <img width="30px" class="bot-image"
            src="${botConfigData.botImageURL}"
            alt="">
        </div>
  <p>
  <svg height="16" width="40" style="max-height: 20px;">
    <circle class="dot" cx="10" cy="8" r="3" style="fill:grey;" />
    <circle class="dot" cx="20" cy="8" r="3" style="fill:grey;" />
    <circle class="dot" cx="30" cy="8" r="3" style="fill:grey;" />
  </svg>
</p>
  `;
    typingContainer.appendChild(typingAnimationDiv);
    chatMessagesContainer.appendChild(typingContainer);
    chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
}

function lwhOpenCbotreplaceTypingAnimationWithMessage(sender, message) {
    let chatMessagesContainer = document.querySelector('.lwh-open-cbot .chat__messages');
    let typingContainer = document.querySelector('.lwh-open-cbot .chat__messages__' + sender + ':last-child');
    if (typingContainer) {
        let messageContainer = document.createElement('div');
        messageContainer.classList.add('chat__messages__' + sender);
        messageContainer.classList.add('chat_messages_ai');
        let messageDiv = document.createElement('div');
        messageDiv.innerHTML = `
                ${sender === 'ai' ?
                `
                    <div>
                    <img width="30px" class="bot-image"
                        src="${botConfigData.botImageURL}"
                        alt="bot-image">
                    </div>
                    `
                : ""
            }
                <p class="typing-effect"></p>
                ${sender === 'user' ?
                `
                    <div>
                    <img width="30px" class="avatar-image"
                        src="${botConfigData.userAvatarURL}"
                        alt="avatar">
                    </div>
                    `
                : ""
            }
            `;
        messageContainer.appendChild(messageDiv);
        typingContainer.parentNode.replaceChild(messageContainer, typingContainer);
        const typingEffectElement = messageDiv.querySelector(".typing-effect");
        // ç›´æ¥è®¾ç½®HTMLå†…å®¹ï¼ˆå› ä¸ºmessageå·²ç»æ˜¯HTMLæ ¼å¼ï¼‰
        typingEffectElement.innerHTML = message;
        typingEffectElement.insertAdjacentHTML('beforeend', `<span title="copy" class="copy-text" onclick="lwhOpenCbotcopyText(event)"><i class="fa-regular fa-copy"></i><span>copied</span></span>`);
        chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
        chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
    }
}

function lwhOpenCbotremoveTypingAnimation() {
    let typingAnimationDivs = document.querySelectorAll('.lwh-open-cbot .typing-animation');
    typingAnimationDivs.forEach(function (typingAnimationDiv) {
        let chatMessagesAiDiv = typingAnimationDiv.closest('.chat__messages__ai');
        if (chatMessagesAiDiv) {
            chatMessagesAiDiv.parentNode.removeChild(chatMessagesAiDiv);
        }
    });
}

copyButtons.forEach(button => {
    button.addEventListener('click', function (event) {
        const codeElement = this.parentNode.nextElementSibling.querySelector('code');
        const codeText = codeElement.textContent;
        navigator.clipboard.writeText(codeText).then(function () {
            event.target.innerText = "Copied";
            setTimeout(() => {
                event.target.innerText = "Copy";
            }, 2000);
        }).catch(function (error) {
            console.error('Error copying code: ', error);
        });
    });
});

function lwhOpenCbotcopyText(event) {
    const paragraph = event.target.closest('p');
    const clone = paragraph.cloneNode(true);
    clone.querySelectorAll('.copy-text').forEach(elem => {
        elem.parentNode.removeChild(elem);
    });
    const textToCopy = clone.textContent.trim();
    navigator.clipboard.writeText(textToCopy)
        .then(() => {
            const copiedSpan = event.target.nextElementSibling;
            copiedSpan.style.display = 'block';
            setTimeout(() => {
                copiedSpan.style.display = 'none';
            }, 2000);
        })
        .catch(error => {
            console.error('Error copying text: ', error);
        });
}

// æµå¼å“åº”å¤„ç†å‡½æ•°
async function lwhOpenCbotfetchDataStream() {
    button.disabled = true;
    let aiMessageElement = null;
    let accumulatedResponse = '';

    try {
        const requestData = {
            "last_prompt": content[content.length - 1].message,
            "conversation_history": content.map(item => ({
                "role": item.role,
                "content": item.message
            }))
        };

        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const reader = response.body.getReader();
        const decoder = new TextDecoder();

        // ç§»é™¤æ‰“å­—åŠ¨ç”»ï¼Œå‡†å¤‡æ˜¾ç¤ºæµå¼å†…å®¹
        lwhOpenCbotremoveTypingAnimation();

        // åˆ›å»ºæ–°çš„AIæ¶ˆæ¯å®¹å™¨
        aiMessageElement = lwhOpenCbotcreateStreamingMessage('ai');

        while (true) {
            const { done, value } = await reader.read();

            if (done) {
                break;
            }

            const chunk = decoder.decode(value);
            const lines = chunk.split('\n');

            for (const line of lines) {
                if (line.startsWith('data: ')) {
                    try {
                        const data = JSON.parse(line.slice(6));

                        if (!data.success) {
                            throw new Error(data.message || 'Stream error');
                        }

                        if (data.content) {
                            accumulatedResponse += data.content;
                            if (aiMessageElement) {
                                // ä½¿ç”¨å‰ç«¯Markdownè½¬HTML
                                const htmlContent = markdownToHtml(accumulatedResponse);
                                lwhOpenCbotupdateStreamingMessage(aiMessageElement, htmlContent);
                            }
                        }

                        if (data.finished) {
                            button.disabled = false;
                            // ä¿å­˜å®Œæ•´å“åº”åˆ°å¯¹è¯å†å²
                            content.push({
                                role: 'assistant',
                                message: accumulatedResponse,
                            });
                            let timestamp = new Date().toLocaleString();
                            conversationTranscript.push({
                                sender: 'bot',
                                time: timestamp,
                                message: accumulatedResponse,
                            });

                            // ä¸ºæœ€ç»ˆæ¶ˆæ¯æ·»åŠ å¤åˆ¶åŠŸèƒ½
                            if (aiMessageElement) {
                                lwhOpenCbotfinalizeStreamingMessage(aiMessageElement, accumulatedResponse);
                            }
                            return;
                        }
                    } catch (parseError) {
                        console.error('è§£ææµå¼æ•°æ®é”™è¯¯:', parseError);
                    }
                }
            }
        }

    } catch (error) {
        console.error('æµå¼å“åº”é”™è¯¯:', error);
        lwhOpenCbotremoveTypingAnimation();
        lwhOpenCbotshowPopup('Oops! Something went wrong with streaming!', '#991a1a');

        // å¦‚æœæµå¼è¯·æ±‚å¤±è´¥ï¼Œå›é€€åˆ°éæµå¼è¯·æ±‚
        console.log('å›é€€åˆ°éæµå¼è¯·æ±‚...');
        await lwhOpenCbotfetchDataNonStream();
    } finally {
        button.disabled = false;
    }
}

// éæµå¼å“åº”å¤„ç†å‡½æ•°ï¼ˆä½œä¸ºå›é€€ï¼‰
async function lwhOpenCbotfetchDataNonStream() {
    try {
        const requestData = {
            "last_prompt": content[content.length - 1].message,
            "conversation_history": content.map(item => ({
                "role": item.role,
                "content": item.message
            }))
        };

        const response = await fetch(nonStreamApiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        console.log(data, "Data from non-stream API");

        if (!data.success) {
            lwhOpenCbotremoveTypingAnimation();
            lwhOpenCbotshowPopup('Oops! Something went wrong!', '#991a1a');
            throw new Error(data.message || "Something went wrong. Please Try Again!");
        }

        // å¤„ç†ä¸åŒçš„å“åº”æ ¼å¼
        const responseText = data.result || data.response;
        if (!responseText) {
            throw new Error('No response data received');
        }

        // ä¿å­˜å“åº”åˆ°å¯¹è¯å†å²
        content.push({
            role: 'assistant',
            message: responseText,
        });
        let timestamp = new Date().toLocaleString();
        conversationTranscript.push({
            sender: 'bot',
            time: timestamp,
            message: responseText,
        });

        // ä½¿ç”¨å‰ç«¯Markdownè½¬HTMLæ¸²æŸ“éæµå¼å“åº”
        const htmlContent = markdownToHtml(responseText);
        lwhOpenCbotreplaceTypingAnimationWithMessage('ai', htmlContent);

    } catch (error) {
        console.error('éæµå¼å“åº”é”™è¯¯:', error);
        lwhOpenCbotremoveTypingAnimation();
        lwhOpenCbotshowPopup('Oops! Something went wrong!', '#991a1a');
    }
}

// åˆ›å»ºæµå¼æ¶ˆæ¯å®¹å™¨
function lwhOpenCbotcreateStreamingMessage(sender) {
    const chatMessagesContainer = document.querySelector('.lwh-open-cbot .chat__messages');
    const messageContainer = document.createElement('div');
    messageContainer.classList.add('chat__messages__' + sender);
    messageContainer.classList.add('streaming-message');

    const messageDiv = document.createElement('div');
    messageDiv.innerHTML = `
        <div>
            <img width="30px" class="bot-image"
                src="${botConfigData.botImageURL}"
                alt="bot-image">
        </div>
        <p class="streaming-content"></p>
        <div>
            <img width="30px" class="avatar-image"
                src="${botConfigData.userAvatarURL}"
                alt="avatar">
        </div>
    `;

    messageContainer.appendChild(messageDiv);
    chatMessagesContainer.appendChild(messageContainer);
    chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;

    return messageContainer.querySelector('.streaming-content');
}

// æ›´æ–°æµå¼æ¶ˆæ¯å†…å®¹
function lwhOpenCbotupdateStreamingMessage(element, content) {
    if (element) {
        element.innerHTML = content;
        const chatMessagesContainer = document.querySelector('.lwh-open-cbot .chat__messages');
        chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;
    }
}

// å®Œæˆæµå¼æ¶ˆæ¯å¹¶æ·»åŠ å¤åˆ¶åŠŸèƒ½
function lwhOpenCbotfinalizeStreamingMessage(messageContainer, finalContent) {
    if (messageContainer) {
        messageContainer.insertAdjacentHTML('beforeend',
            `<span title="copy" class="copy-text" onclick="lwhOpenCbotcopyText(event)">
                <i class="fa-regular fa-copy"></i>
                <span>copied</span>
            </span>`
        );
    }
}

// ä¸»å‡½æ•°ï¼ˆé»˜è®¤ä½¿ç”¨æµå¼ï¼Œå¤±è´¥æ—¶å›é€€ï¼‰
async function lwhOpenCbotfetchData() {
    // ä¼˜å…ˆä½¿ç”¨æµå¼API
    await lwhOpenCbotfetchDataStream();
}

async function lwhOpenCbotfetchBotConfiguration() {
    const chatMessagesContainer = document.querySelector(".lwh-open-cbot .chat__messages");
    document.querySelector(".lwh-open-cbot .loading").style.display = 'flex';
    chatMessagesContainer.innerHTML = '';
    let startupBtnsDiv = document.createElement('div');
    startupBtnsDiv.classList.add('startup-btns');
    chatMessagesContainer.appendChild(startupBtnsDiv);
    let botResponse = ''
    try {
        botResponse = await fetch(botConfigurationUrl);
        if (botResponse.ok) {
            botConfigData = await botResponse.json();
            console.log(botConfigData, "Data from api");
            chatMessagesContainer.style.fontSize = `${botConfigData.fontSize}px`;
            let startupBtns=''
            const startupBtnContainer = document.querySelector('.lwh-open-cbot .startup-btns');
            botConfigData.commonButtons.forEach(btn => {
                startupBtns += `<p onclick="lwhOpenCbotonFormSubmit(event, '${btn.buttonPrompt}'); lwhOpenCbothandleStartupBtnClick(event);">${btn.buttonText}</p>`;
            });            
            startupBtnContainer.innerHTML = startupBtns;
            if (botConfigData.botStatus == 1) {
                document.querySelector(".lwh-open-cbot .chat__status").innerHTML = `<span></span> Online`;
                document.querySelector(".lwh-open-cbot .chat__status").querySelector("span").style.background = "#68D391";
            }
           
            document.querySelector(".lwh-open-cbot .loading").style.display = 'none';
            lwhOpenCbotaddMessage('ai', botConfigData.StartUpMessage);
            content.push({
                role: 'assistant',
                message: botConfigData.StartUpMessage,
            });
            let timestamp = new Date().toLocaleString();
            conversationTranscript.push({
                sender: 'bot',
                time: timestamp,
                message: botConfigData.StartUpMessage,
            });
        } else {
            document.querySelector(".lwh-open-cbot .loading").style.display = 'none';
            lwhOpenCbotshowPopup('Oops! Something went wrong!', '#991a1a');
            throw new Error("Request failed. Please try again!");
        }
    } catch (error) {
        lwhOpenCbotshowPopup('Oops! Something went wrong!', '#991a1a');
        button.disabled = true
        console.error('There was a problem with the fetch operation:', error);
        return;
    }
}

function lwhOpenCbotshowPopup(val, color) {
    button.disabled = false;
    const popup = document.querySelector('.lwh-open-cbot .popup');
    popup.style.display = 'block';
    popup.style.opacity = 1;
    const innerPopup = popup.querySelector('p');
    innerPopup.innerText = val;
    innerPopup.style.color = color;
    popup.classList.add('popup-animation');
    setTimeout(() => {
        popup.classList.remove('popup-animation');
        popup.style.display = 'none';
        popup.style.opacity = 0;
    }, 3000);
}


function lwhOpenCbothandleStartupBtnClick(event){
    const startupBtnContainer = event.target.parentNode;
    startupBtnContainer.style.display = 'none';
}

lwhOpenCbotfetchBotConfiguration();

</script>
 
<script
    src="https://cdn.databuddy.cc/databuddy.js"
    data-client-id="d5f736fc-64f6-440b-bfa8-e29bf77fc5c6"
    crossorigin="anonymous"
    async
  ></script>